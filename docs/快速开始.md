# å¿«é€Ÿå¼€å§‹æŒ‡å—

## 5åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹

### ç¬¬ä¸€æ­¥ï¼šå®‰è£…ä¾èµ–

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd "Medical Escort"

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆæ¨èï¼‰
python3 -m venv venv
source venv/bin/activate  # macOS/Linux
# æˆ–è€…
venv\Scripts\activate  # Windows

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### ç¬¬äºŒæ­¥ï¼šé…ç½®ç¯å¢ƒå˜é‡

åˆ›å»º `.env` æ–‡ä»¶ï¼š

```bash
# å¤åˆ¶ç¤ºä¾‹é…ç½®
cp .env.example .env

# ç¼–è¾‘.envæ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„OpenAI API Key
# OPENAI_API_KEY=sk-your-api-key-here
```

### ç¬¬ä¸‰æ­¥ï¼šå¯åŠ¨æœåŠ¡

```bash
# ä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰
./start.sh

# æˆ–è€…æ‰‹åŠ¨å¯åŠ¨
cd api
python main.py
```

æœåŠ¡å¯åŠ¨åï¼Œè®¿é—® http://localhost:8000/docs æŸ¥çœ‹APIæ–‡æ¡£ã€‚

### ç¬¬å››æ­¥ï¼šè¿è¡Œç¤ºä¾‹

åœ¨æ–°çš„ç»ˆç«¯çª—å£ï¼š

```bash
# ç¡®ä¿è™šæ‹Ÿç¯å¢ƒå·²æ¿€æ´»
source venv/bin/activate

# è¿è¡Œç¤ºä¾‹ç¨‹åº
python examples/example_usage.py
```

## å®Œæ•´ä½¿ç”¨æµç¨‹ç¤ºä¾‹

### åœºæ™¯ï¼šç‹å¥¶å¥¶éœ€è¦çœ‹ç—…

**1. å­å¥³å¸®ç‹å¥¶å¥¶åˆ›å»ºè´¦å·**

```python
import requests

# åˆ›å»ºç”¨æˆ·
response = requests.post(
    "http://localhost:8000/api/users/",
    json={
        "name": "ç‹å¥¶å¥¶",
        "phone": "13800138888",
        "age": 75,
        "gender": "å¥³",
        "emergency_contact_name": "ç‹å°å",
        "emergency_contact_phone": "13900139999"
    }
)

user_id = response.json()["id"]
```

**2. ç‹å¥¶å¥¶è¯´å¥¹çš„ç—‡çŠ¶**

```python
# AIåˆ†æç—‡çŠ¶
response = requests.post(
    "http://localhost:8000/api/appointments/analyze-symptoms",
    json={
        "user_id": user_id,
        "symptoms": "èƒ¸é—·ï¼Œå–˜ä¸ä¸Šæ°”ï¼Œå¿ƒæ…Œ"
    }
)

result = response.json()
print(f"æ¨èç§‘å®¤: {result['recommended_department']}")
# è¾“å‡º: æ¨èç§‘å®¤: å¿ƒè¡€ç®¡å†…ç§‘
```

**3. æœç´¢é™„è¿‘åŒ»é™¢å¹¶é¢„çº¦**

```python
# æœç´¢åŒ»é™¢
response = requests.get(
    "http://localhost:8000/api/appointments/hospitals",
    params={
        "location": "æµ·æ·€åŒº",
        "department": "å¿ƒè¡€ç®¡å†…ç§‘"
    }
)

hospitals = response.json()["hospitals"]
hospital = hospitals[0]  # é€‰æ‹©ç¬¬ä¸€å®¶

# åˆ›å»ºé¢„çº¦
response = requests.post(
    "http://localhost:8000/api/appointments/",
    json={
        "user_id": user_id,
        "hospital_id": hospital["id"],
        "hospital_name": hospital["name"],
        "department": "å¿ƒè¡€ç®¡å†…ç§‘",
        "appointment_date": "2024-01-15T09:00:00"
    }
)

appointment_id = response.json()["id"]
print("é¢„çº¦æˆåŠŸï¼")
```

**4. ç‹å¥¶å¥¶å»åŒ»é™¢ï¼ŒæŸ¥çœ‹å°±åŒ»æŒ‡å¯¼**

```python
# è·å–å®Œæ•´çš„å°±åŒ»æµç¨‹æŒ‡å¯¼
response = requests.get(
    f"http://localhost:8000/api/guidance/appointment/{appointment_id}/full"
)

guidance = response.json()

# æ˜¾ç¤ºå°±åŒ»é¡»çŸ¥
for reminder in guidance["important_reminders"]:
    print(f"â€¢ {reminder}")

# ç‹å¥¶å¥¶åˆ°è¾¾åŒ»é™¢ï¼Œéœ€è¦æŒ‚å·
response = requests.post(
    "http://localhost:8000/api/guidance/step",
    json={
        "user_id": user_id,
        "appointment_id": appointment_id,
        "current_step": "registration"
    }
)

guidance = response.json()
for step in guidance["steps"]:
    print(step)
```

**5. çœ‹å®Œç—…ï¼Œè·å–ç”¨è¯æŒ‡å¯¼**

```python
# è§£æå¤„æ–¹
medications = [
    {
        "name": "é˜¿å¸åŒ¹æ—è‚ æº¶ç‰‡",
        "dosage": "100mg",
        "frequency": "æ¯æ—¥1æ¬¡",
        "timing": "æ™šé¥­å",
        "duration": "é•¿æœŸ"
    }
]

# ç”Ÿæˆç”¨è¯æ—¶é—´è¡¨
response = requests.post(
    "http://localhost:8000/api/medications/schedule",
    json={"medications": medications}
)

schedule = response.json()
print(schedule["summary"])

# ç”Ÿæˆç”¨è¯æé†’
response = requests.post(
    "http://localhost:8000/api/medications/reminders",
    json={
        "user_id": user_id,
        "medications": medications,
        "start_date": "2024-01-15"
    }
)

reminders = response.json()["reminders"]
print(f"å·²ç”Ÿæˆ {len(reminders)} æ¡ç”¨è¯æé†’")
```

## æ ¸å¿ƒåŠŸèƒ½é€Ÿè§ˆ

### ğŸ” ç—‡çŠ¶åˆ†æ
```bash
curl -X POST "http://localhost:8000/api/appointments/analyze-symptoms" \
  -H "Content-Type: application/json" \
  -d '{"user_id": 1, "symptoms": "å¤´æ™•ã€å¿ƒæ…Œ"}'
```

### ğŸ¥ æœç´¢åŒ»é™¢
```bash
curl "http://localhost:8000/api/appointments/hospitals?location=æµ·æ·€åŒº&department=å¿ƒè¡€ç®¡å†…ç§‘"
```

### ğŸ“… é¢„çº¦æŒ‚å·
```bash
curl -X POST "http://localhost:8000/api/appointments/" \
  -H "Content-Type: application/json" \
  -d '{
    "user_id": 1,
    "hospital_id": "h001",
    "hospital_name": "å¸‚äººæ°‘åŒ»é™¢",
    "department": "å¿ƒè¡€ç®¡å†…ç§‘",
    "appointment_date": "2024-01-15T09:00:00"
  }'
```

### ğŸ“‹ å°±åŒ»æŒ‡å¯¼
```bash
curl "http://localhost:8000/api/guidance/appointment/1/full"
```

### ğŸ’Š ç”¨è¯ç®¡ç†
```bash
curl -X POST "http://localhost:8000/api/medications/schedule" \
  -H "Content-Type: application/json" \
  -d '{
    "medications": [
      {
        "name": "é˜¿å¸åŒ¹æ—",
        "dosage": "100mg",
        "frequency": "æ¯æ—¥1æ¬¡",
        "timing": "æ™šé¥­å",
        "duration": "é•¿æœŸ"
      }
    ]
  }'
```

## å¸¸ç”¨å‘½ä»¤

```bash
# å¯åŠ¨æœåŠ¡
./start.sh

# æŸ¥çœ‹APIæ–‡æ¡£
open http://localhost:8000/docs

# è¿è¡Œç¤ºä¾‹
python examples/example_usage.py

# æŸ¥çœ‹æ—¥å¿—
tail -f logs/medical_escort_*.log

# åœæ­¢æœåŠ¡
# æŒ‰ Ctrl+C
```

## ä¸‹ä¸€æ­¥

- ğŸ“– é˜…è¯»[ä½¿ç”¨æ‰‹å†Œ](ä½¿ç”¨æ‰‹å†Œ.md)äº†è§£è¯¦ç»†åŠŸèƒ½
- ğŸ”§ æŸ¥çœ‹[å¼€å‘æ–‡æ¡£](å¼€å‘æ–‡æ¡£.md)è¿›è¡ŒäºŒæ¬¡å¼€å‘
- ğŸ’¡ è¿è¡Œ `examples/example_usage.py` æŸ¥çœ‹å®Œæ•´ç¤ºä¾‹

## é‡åˆ°é—®é¢˜ï¼Ÿ

### é—®é¢˜1: å¯åŠ¨å¤±è´¥ - ModuleNotFoundError

**è§£å†³æ–¹æ¡ˆ**:
```bash
pip install -r requirements.txt
```

### é—®é¢˜2: OpenAI APIé”™è¯¯

**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥ `.env` æ–‡ä»¶ä¸­çš„ `OPENAI_API_KEY` æ˜¯å¦æ­£ç¡®
- ç¡®ä¿API Keyæœ‰æ•ˆä¸”æœ‰ä½™é¢

### é—®é¢˜3: æ•°æ®åº“é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**:
```bash
python -c "from database import init_db; init_db()"
```

### é—®é¢˜4: ç«¯å£è¢«å ç”¨

**è§£å†³æ–¹æ¡ˆ**:
```bash
# åœ¨ .env æ–‡ä»¶ä¸­ä¿®æ”¹ç«¯å£
PORT=8001
```

## è·å–å¸®åŠ©

- ğŸ“§ é‚®ä»¶: support@medical-escort.com
- ğŸ’¬ Issue: GitHub Issues
- ğŸ“ ç”µè¯: 400-XXX-XXXX

---

ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼â¤ï¸




